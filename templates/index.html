<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta http-equiv="X-UA-Compatible" content="ie=edge">
      <title>S&P 100 Stock Explorer</title>
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
      <link rel="shortcut icon" href="#">
      <script src="https://d3js.org/d3.v5.min.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.9.7/d3.min.js"></script>
      <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.0.0/mdb.min.js"></script>

  
   </head>
   <body style="background: #2D3032">
      <!-- Navigation Bar -->
      <nav style="background: #9615DB" class="navbar navbar-expand-lg navbar-light bg-light"> 
         <a class="navbar-brand active text-white " style = "color:white" href="index.html">S&P 100 Stock Explorer</a>
      </nav>
      <div class="col-md-7">
         <div class="col-md-12">
            <div class="col-md-5">
               <form action="{{ url_for('select')}}" method="POST">
                  <select multiple="multiple" class="mdb-select md-form initalized" id="stockInput" name="stocktick" searchable="Search for Ticker Name..">
                     <option value="" disabled selected>Choose the stock</option>
                     {% for item in ddd %}
                     <option value="{{ item }}">{{ item }}</option>
                     {% endfor %}
                  <script type="text/javascript" src="{{url_for('static', filename='style.js')}}"></script>
                  </select>
               </form>
            </div>
            <div class="col-md-3">
               <br>
               <button id="submit" type="submit" class="btn btn-default" style="background: #9615db; color:white;">Plot Stock</button>
            </div>
         </div>
      </div>
      <div class="left">
         <div class="container content">
            <div class ="col-md-8">
               <div class ="col-md-12">
                  <h1 style = "color:white" class="h2">Stock Analysis </h1>
                  <br>
                  <div id="plot"></div>
                  <script type="text/javascript" src="{{url_for('static', filename='plots.js')}}"></script>
                  <script type="text/javascript" src="{{url_for('static', filename='config.js')}}"></script>
                  <br>
                  <br>
               </div>
               
               <div class ="col-md-12">
                  <h1 style = "color:white" class="h2">Article Hits</h1>
                  <div id="chart" style="background: whitesmoke;">
                  <script type="text/javascript" src="{{url_for('static', filename='app.js')}}"></script>
                  </div>
               </div>
               <br>
               <br>
            </div>
         </div>
      </div>
      <div class="right">
      <div style = "color:white ; background: #555759" class="col-md-5">
         <div class="col-md-12"></div>
            <h2>Latest Stock News</h2>
            <img class = "img-responsive" src="{{ stock.featured_image_url }}" width="100%"  alt="Stocknews_Image">
            <h3>{{ stock.feature_title }}</h3>
            <p>{{ stock.feature_p }}</p>
            <br>
            <br>
               <div style="background: #555759" class="jumbotron">
               <div class="row"> 
               {% for image_url in stock.article_image_urls %}
               <div class="thumbnail">
               <img src="{{ image_url.img_url }}" alt= {{ image_url.img_url }}>
               <div class="caption">
               <h3 style= "font-weight: bold;">{{ image_url.title }}</h3>
               </div>
               </div>
               {% endfor %}
               </div>
               </div>   
         </div>   
      </div>
      <style>
      .right { float: right;  margin: 0 1.5%; width: 30%; margin-left: 0px; padding-right: -300px; padding-left: 10px;}
      .left { float: left; margin: 0 1.5%; width: 63%; padding-right: 700px; padding-left: 10px; margin-bottom: 100px;}
      </style>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
      <script src="{{url_for('static', filename='app.js')}}"></script>
   </body>
</html>